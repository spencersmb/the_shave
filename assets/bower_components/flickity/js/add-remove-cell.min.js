!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["./flickity","fizzy-ui-utils/utils"],function(i,l){return t(e,i,l)}):"object"==typeof exports?module.exports=t(e,require("./flickity"),require("fizzy-ui-utils")):(e.Flickity=e.Flickity||{},e.Flickity=t(e,e.Flickity,e.fizzyUIUtils))}(window,function(e,t,i){"use strict";function l(e){for(var t=document.createDocumentFragment(),i=0,l=e.length;l>i;i++){var s=e[i];t.appendChild(s.element)}return t}return t.prototype.insert=function(e,t){var i=this._makeCells(e);if(i&&i.length){var s=this.cells.length;t=void 0===t?s:t;var n=l(i),c=t==s;if(c)this.slider.appendChild(n);else{var o=this.cells[t].element;this.slider.insertBefore(n,o)}if(0===t)this.cells=i.concat(this.cells);else if(c)this.cells=this.cells.concat(i);else{var h=this.cells.splice(t,s-t);this.cells=this.cells.concat(i).concat(h)}this._sizeCells(i);var r=t>this.selectedIndex?0:i.length;this._cellAddedRemoved(t,r)}},t.prototype.append=function(e){this.insert(e,this.cells.length)},t.prototype.prepend=function(e){this.insert(e,0)},t.prototype.remove=function(e){var t,l,s,n=this.getCells(e),c=0;for(t=0,l=n.length;l>t;t++){s=n[t];var o=i.indexOf(this.cells,s)<this.selectedIndex;c-=o?1:0}for(t=0,l=n.length;l>t;t++)s=n[t],s.remove(),i.removeFrom(this.cells,s);n.length&&this._cellAddedRemoved(0,c)},t.prototype._cellAddedRemoved=function(e,t){t=t||0,this.selectedIndex+=t,this.selectedIndex=Math.max(0,Math.min(this.cells.length-1,this.selectedIndex)),this.emitEvent("cellAddedRemoved",[e,t]),this.cellChange(e)},t.prototype.cellSizeChange=function(e){var t=this.getCell(e);if(t){t.getSize();var l=i.indexOf(this.cells,t);this.cellChange(l)}},t.prototype.cellChange=function(e){// if ( !isSkippingSizing ) {
e=e||0,this._positionCells(e),this._getWrapShiftCells(),this.setGallerySize(),this.options.freeScroll?this.positionSlider():(this.positionSliderAtSelected(),this.select(this.selectedIndex))},t});