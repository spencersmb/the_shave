!function(t,i){"use strict";"function"==typeof define&&define.amd?define(["get-style-property/get-style-property","fizzy-ui-utils/utils"],function(e,s){return i(t,e,s)}):"object"==typeof exports?module.exports=i(t,require("desandro-get-style-property"),require("fizzy-ui-utils")):(t.Flickity=t.Flickity||{},t.Flickity.animatePrototype=i(t,t.getStyleProperty,t.fizzyUIUtils))}(window,function(t,i,e){"use strict";for(var s,n=0,r="webkit moz ms o".split(" "),o=t.requestAnimationFrame,h=t.cancelAnimationFrame,l=0;l<r.length&&(!o||!h);l++)s=r[l],o=o||t[s+"RequestAnimationFrame"],h=h||t[s+"CancelAnimationFrame"]||t[s+"CancelRequestAnimationFrame"];o&&h||(o=function(i){var e=(new Date).getTime(),s=Math.max(0,16-(e-n)),r=t.setTimeout(function(){i(e+s)},s);return n=e+s,r},h=function(i){t.clearTimeout(i)});var a={};a.startAnimation=function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},a.animate=function(){this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var i=this;o(function(){i.animate()})}};var c=i("transform"),u=!!i("perspective");return a.positionSlider=function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),t+=this.cursorPosition,t=this.options.rightToLeft&&c?-t:t;var i=this.getPositionValue(t);c?this.slider.style[c]=u&&this.isAnimating?"translate3d("+i+",0,0)":"translateX("+i+")":this.slider.style[this.originSide]=i},a.positionSliderAtSelected=function(){if(this.cells.length){var t=this.cells[this.selectedIndex];this.x=-t.target,this.positionSlider()}},a.getPositionValue=function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},a.settle=function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,u&&this.positionSlider(),this.dispatchEvent("settle"))},a.shiftWrapCells=function(t){var i=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,i,-1);var e=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,e,1)},a._shiftCells=function(t,i,e){for(var s=0,n=t.length;n>s;s++){var r=t[s],o=i>0?e:0;r.wrapShift(o),i-=r.size.outerWidth}},a._unshiftCells=function(t){if(t&&t.length)for(var i=0,e=t.length;e>i;i++)t[i].wrapShift(0)},a.integratePhysics=function(){this.velocity+=this.accel,this.x+=this.velocity,this.velocity*=this.getFrictionFactor(),this.accel=0},a.applyForce=function(t){this.accel+=t},a.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},a.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},a.applySelectedAttraction=function(){var t=this.cells.length;if(!this.isPointerDown&&!this.isFreeScrolling&&t){var i=this.cells[this.selectedIndex],e=this.options.wrapAround&&t>1?this.slideableWidth*Math.floor(this.selectedIndex/t):0,s=-1*(i.target+e)-this.x,n=s*this.options.selectedAttraction;this.applyForce(n)}},a});